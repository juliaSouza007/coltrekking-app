<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Coltrekking</title>
    <link rel="shortcut icon" href="images/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Anton&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- Logo -->
        <div class="center">
            <img src="images/coltrekkingVertical.png" id="imgLogin" alt="Logo Coltrekking">
        </div>

        <!-- Feedback de carregamento -->
        <div id="loading" class="center">
            <img src="images/loading.gif" alt="Animação de carregamento">
        </div>
        
        <!-- Conteúdo para Usuários não Logados -->
        <div id="auth"class="center">
             <!-- Alternar para AUTENTICAÇÃO DO GOOGLE-->
             <p>
                <br> Acesse com sua conta Google: <br>
                <img src="images/logoGoogle.png" id="logoGoogle" alt="Logo Google" onclick="signInWithGoogle()">
             </p>
        </div>
        
        
    </div>
    
    <!-- Recursos do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-database.js"></script>

    <!-- Scripts -->
    <script src="js/firebase.js"></script>
    <script src="js/utilis.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/todo.js"></script>
    <script>
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // Salva dados do usuário para uso na homePage
          localStorage.setItem('userName', user.displayName || 'Usuário logado');
          localStorage.setItem('userEmail', user.email || 'Email do usuário');
          window.location.href = 'homePage.html';
        }
      });
    </script>
</body>
</html>
